webpackJsonp([5],{"3KNT":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Dd8w"),r=a.n(i),n=a("NYxO"),s={name:"ActivityStatistics",data:function(){return{pageSize:10,pageNo:1,total:0,activityName:"",startTime:"",endTime:"",Datevalue:{},tableData:[]}},computed:r()({},Object(n.b)(["NetbarId"])),created:function(){this.getData()},mounted:function(){},methods:{handleCurrentChange:function(t){this.pageNo=t,this.getData()},sizeCurrentChange:function(t){this.pageSize=t,this.getData()},onSubmit:function(){this.pageNo=1,this.getData()},DateChange:function(){if(this.Datevalue){var t=this.Datevalue[0],e=this.Datevalue[1];this.startTime=this.$moment(t).format("YYYY-MM-DD"),this.endTime=this.$moment(e).format("YYYY-MM-DD"),this.getData()}else this.startTime="",this.endTime="",this.getData()},getData:function(){var t={netbarId:this.NetbarId,activityName:this.activityName,startTime:this.startTime,endTime:this.endTime,pageSize:this.pageSize,pageIndex:this.pageNo},e=this;this.axios.get("/api/Activity/GetActivityStatistics",t).then(function(t){if(console.log(t),"OK"==t.statusText){var a=t.data.Items;e.tableData=a,e.total=t.data.Total}else e.$message.error(t.data.Message)})},formatPrizeList:function(t,e){for(var a="",i=0;i<t.PrizeList.length;i++)i<t.PrizeList.length-1?a=a+t.PrizeList[i].Describe+" , ":a+=t.PrizeList[i].Describe;return a},dateFormat:function(t,e){return void 0==t[e.property]?"":this.$moment(Date).format("YYYY-MM-DD HH:mm:ss")}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ActivityStatistics"},[a("div",{staticClass:"ActivityStatistics_body animated fadeInDown"},[a("div",{staticClass:"title_h3"},[t._v(" 活动统计 ")]),t._v(" "),a("br"),t._v(" "),a("el-card",{attrs:{shadow:"always"}},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{padding:"0 5px"},attrs:{inline:!0}},[a("el-form-item",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"条件筛选："}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:""},on:{change:t.DateChange},model:{value:t.Datevalue,callback:function(e){t.Datevalue=e},expression:"Datevalue"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入活动名称",clearable:""},on:{clear:t.onSubmit},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.activityName,callback:function(e){t.activityName=e},expression:"activityName"}})],1),t._v(" "),a("el-form-item",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{ref:"dtuVoTable",attrs:{data:t.tableData,"tooltip-effect":"dark","header-cell-style":{background:"#f3f3f4"}}},[a("el-table-column",{attrs:{property:"Name",label:"活动名称"}}),t._v(" "),a("el-table-column",{attrs:{property:"PrizeList",label:"活动奖品名称",formatter:t.formatPrizeList}}),t._v(" "),a("el-table-column",{attrs:{property:"PartakeCount",label:"参与人数"}}),t._v(" "),a("el-table-column",{attrs:{property:"ExchangeMoney",label:"累计已兑换奖品金额（元）"}})],1),t._v(" "),a("el-row",{staticStyle:{padding:"20px 0"},attrs:{type:"flex",justify:"end"}},[a("el-pagination",{attrs:{"page-sizes":[10,15,20],"page-size":10,"current-page":t.pageNo,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.sizeCurrentChange}})],1)],1)],1)])},staticRenderFns:[]},o=a("VU/8")(s,l,!1,null,null,null);e.default=o.exports}});
//# sourceMappingURL=5.de9cd8431777701c9122.js.map