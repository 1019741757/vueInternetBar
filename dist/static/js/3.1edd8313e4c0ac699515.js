webpackJsonp([3],{dlJS:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),s=a.n(n),i=a("NYxO"),l={name:"PaymentRecord",data:function(){return{pageSize:10,pageNo:1,total:0,number:"",state:"",startTime:"",endTime:"",Datevalue:{},CensusMoneyList:{},tableData:[],PaymentStatusList:[{id:"0",name:"待支付"},{id:"1",name:"已支付"},{id:"2",name:"支付失败"}]}},computed:s()({},Object(i.b)(["NetbarId"])),created:function(){this.getData(),this.getDataMoney()},mounted:function(){},methods:{handleCurrentChange:function(t){this.pageNo=t,this.getData(),this.getDataMoney()},sizeCurrentChange:function(t){this.pageSize=t,this.getData(),this.getDataMoney()},onSubmit:function(){this.pageNo=1,this.getData(),this.getDataMoney()},DateChange:function(){if(this.Datevalue){var t=this.Datevalue[0],e=this.Datevalue[1];this.startTime=this.$moment(t).format("YYYY-MM-DD"),this.endTime=this.$moment(e).format("YYYY-MM-DD"),this.getData(),this.getDataMoney()}else this.startTime="",this.endTime="",this.getData(),this.getDataMoney()},getData:function(){var t={netbarId:this.NetbarId,startTime:this.startTime,endTime:this.endTime,number:this.number||null,state:this.state||null,pageSize:this.pageSize,pageIndex:this.pageNo},e=this;this.axios.get("/api/NetFee/GetNetFeeList",t).then(function(t){if(console.log(t),"OK"==t.statusText){var a=t.data.Items;e.tableData=a,e.total=t.data.Total}else e.$message.error(t.data.Message)})},getDataMoney:function(){var t={netbarId:this.NetbarId,startTime:this.startTime,endTime:this.endTime,number:this.number||null},e=this;this.axios.get("/api/NetFee/CensusMoney",t).then(function(t){if("OK"==t.statusText){var a=t.data.Object;e.CensusMoneyList=a}else e.$message.error(t.data.Message)})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ActivityStatistics"},[a("div",{staticClass:"ActivityStatistics_body animated fadeInDown"},[a("div",{staticClass:"title_h3"},[t._v(" 网费支付记录")]),t._v(" "),a("div",{staticClass:"title_pop"},[a("span",[t._v("总支付金额（元）： "),a("a",[t._v(t._s(t.CensusMoneyList.rechargeMoney))])])]),t._v(" "),a("el-card",{attrs:{shadow:"always"}},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{padding:"0 5px"},attrs:{inline:!0}},[a("el-form-item",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"条件筛选："}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:""},on:{change:t.DateChange},model:{value:t.Datevalue,callback:function(e){t.Datevalue=e},expression:"Datevalue"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入支付编号",clearable:""},on:{clear:t.onSubmit},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onSubmit(e):null}},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择兑换状态",clearable:""},on:{change:t.onSubmit},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},t._l(t.PaymentStatusList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{ref:"dtuVoTable",attrs:{data:t.tableData,"tooltip-effect":"dark","header-cell-style":{background:"#f3f3f4"}}},[a("el-table-column",{attrs:{property:"Number",label:"支付编号",width:"130"}}),t._v(" "),a("el-table-column",{attrs:{prop:"CreateDate",label:"支付时间",align:"center",sortable:"",width:"210"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-icon",{attrs:{name:"time"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px",color:"#66ccff"}},[t._v(t._s(e.row.CreateDate||""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"RechargeMoney",label:"支付金额（元）"}}),t._v(" "),a("el-table-column",{attrs:{property:"GiveMoney",label:"奖品金额（元）"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.GiveMoney+e.row.RechargeMoney))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"Ratio",label:"网费比例（%）"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#f08e83"}},[t._v(t._s(e.row.Ratio+"%"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"Type",label:"支付方式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"payStatus",label:"支付状态",align:"center",width:"120",filters:t.tableData.payStatus,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"0"==e.row.State?"warning":"1"==e.row.State?"success":"2"==e.row.State?"danger":"","close-transition":""}},[t._v("\n              "+t._s("0"==e.row.State?"待支付":"1"==e.row.State?"已支付":"2"==e.row.State?"支付失败":"")+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"Remarks",label:"备注"}})],1),t._v(" "),a("el-row",{staticStyle:{padding:"20px 0"},attrs:{type:"flex",justify:"end"}},[a("el-pagination",{attrs:{"page-sizes":[10,15,20],"page-size":10,"current-page":t.pageNo,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"size-change":t.sizeCurrentChange}})],1)],1)],1)])},staticRenderFns:[]},o=a("VU/8")(l,r,!1,null,null,null);e.default=o.exports}});
//# sourceMappingURL=3.1edd8313e4c0ac699515.js.map